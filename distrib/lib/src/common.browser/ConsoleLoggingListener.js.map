{"version":3,"sources":["../../src/common.browser/ConsoleLoggingListener.ts"],"names":[],"mappings":";AAAA,4DAA4D;AAC5D,kCAAkC;;AAElC,6CAA6E;AAE7E;IAGI,gCAAmB,cAA6C;QAA7C,+BAAA,EAAA,iBAA4B,mBAAS,CAAC,OAAO;QAAhE,iBAEC;QAEM,YAAO,GAAG,UAAC,KAAoB;YAClC,IAAI,KAAK,CAAC,SAAS,IAAI,KAAI,CAAC,kBAAkB,EAAE;gBAC5C,IAAM,GAAG,GAAG,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBAEjC,QAAQ,KAAK,CAAC,SAAS,EAAE;oBACrB,KAAK,mBAAS,CAAC,KAAK;wBAChB,sCAAsC;wBACtC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBACnB,MAAM;oBACV,KAAK,mBAAS,CAAC,IAAI;wBACf,sCAAsC;wBACtC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;wBAClB,MAAM;oBACV,KAAK,mBAAS,CAAC,OAAO;wBAClB,sCAAsC;wBACtC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;wBAClB,MAAM;oBACV,KAAK,mBAAS,CAAC,KAAK;wBAChB,sCAAsC;wBACtC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBACnB,MAAM;oBACV;wBACI,sCAAsC;wBACtC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;wBACjB,MAAM;iBACb;aACJ;QACL,CAAC,CAAA;QAEO,aAAQ,GAAG,UAAC,KAAU;YAC1B,IAAM,YAAY,GAAG;gBACjB,KAAG,KAAK,CAAC,SAAW;gBACpB,KAAG,KAAK,CAAC,IAAM;aAClB,CAAC;YAEF,KAAK,IAAM,IAAI,IAAI,KAAK,EAAE;gBACtB,IAAI,IAAI,IAAI,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC;oBAClC,IAAI,KAAK,WAAW,IAAI,IAAI,KAAK,WAAW;oBAC5C,IAAI,KAAK,SAAS,IAAI,IAAI,KAAK,MAAM;oBACrC,IAAI,KAAK,aAAa,EAAE;oBACxB,IAAM,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;oBAC1B,IAAI,UAAU,GAAG,QAAQ,CAAC;oBAC1B,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,KAAK,IAAI,EAAE;wBACvC,IAAI,OAAO,CAAC,KAAK,CAAC,KAAK,QAAQ,IAAI,OAAO,CAAC,KAAK,CAAC,KAAK,QAAQ,EAAE;4BAC5D,UAAU,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;yBACjC;6BAAM;4BACH,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;yBACtC;qBACJ;oBAED,YAAY,CAAC,IAAI,CAAI,IAAI,UAAK,UAAY,CAAC,CAAC;iBAC/C;aAEJ;YAED,OAAO,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACpC,CAAC,CAAA;QA3DG,IAAI,CAAC,kBAAkB,GAAG,cAAc,CAAC;IAC7C,CAAC;IA2DL,6BAAC;AAAD,CAhEA,AAgEC,IAAA;AAhEY,wDAAsB","file":"ConsoleLoggingListener.js","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license.\n\nimport { EventType, IEventListener, PlatformEvent } from \"../common/Exports\";\n\nexport class ConsoleLoggingListener implements IEventListener<PlatformEvent> {\n    private privLogLevelFilter: EventType;\n\n    public constructor(logLevelFilter: EventType = EventType.Warning) {\n        this.privLogLevelFilter = logLevelFilter;\n    }\n\n    public onEvent = (event: PlatformEvent): void => {\n        if (event.eventType >= this.privLogLevelFilter) {\n            const log = this.toString(event);\n\n            switch (event.eventType) {\n                case EventType.Debug:\n                    // tslint:disable-next-line:no-console\n                    console.debug(log);\n                    break;\n                case EventType.Info:\n                    // tslint:disable-next-line:no-console\n                    console.info(log);\n                    break;\n                case EventType.Warning:\n                    // tslint:disable-next-line:no-console\n                    console.warn(log);\n                    break;\n                case EventType.Error:\n                    // tslint:disable-next-line:no-console\n                    console.error(log);\n                    break;\n                default:\n                    // tslint:disable-next-line:no-console\n                    console.log(log);\n                    break;\n            }\n        }\n    }\n\n    private toString = (event: any): string => {\n        const logFragments = [\n            `${event.EventTime}`,\n            `${event.Name}`,\n        ];\n\n        for (const prop in event) {\n            if (prop && event.hasOwnProperty(prop) &&\n                prop !== \"eventTime\" && prop !== \"eventType\" &&\n                prop !== \"eventId\" && prop !== \"name\" &&\n                prop !== \"constructor\") {\n                const value = event[prop];\n                let valueToLog = \"<NULL>\";\n                if (value !== undefined && value !== null) {\n                    if (typeof (value) === \"number\" || typeof (value) === \"string\") {\n                        valueToLog = value.toString();\n                    } else {\n                        valueToLog = JSON.stringify(value);\n                    }\n                }\n\n                logFragments.push(`${prop}: ${valueToLog}`);\n            }\n\n        }\n\n        return logFragments.join(\" | \");\n    }\n}\n"]}